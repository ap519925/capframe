# How to List Your Electron App on the Microsoft Store

Listing your app on the Microsoft Store involves packaging it as an `.msix` or `.appx` bundle, signing it, and submitting it through the Microsoft Partner Center.

## Prerequisites

1.  **Microsoft Developer Account**: You need to register at the [Microsoft Partner Center](https://partner.microsoft.com/dashboard). There is a one-time fee (approx. $19 USD for individuals).
2.  **Windows SDK**: Ensure you have the Windows 10/11 SDK installed (usually comes with Visual Studio).

## Step 1: Configure `electron-builder`

You are already using `electron-builder`, which supports building for the Windows Store (`appx`).

1.  Open `package.json`.
2.  Locate the `"build"` configuration object.
3.  Add an `appx` target to the `win` section or as a separate key.

Example `package.json` update:

```json
"build": {
  "appId": "com.yourname.screenrecorder",
  "productName": "FocusRecord",
  "win": {
    "target": ["nsis", "appx"],
    "icon": "build/icon.png"
  },
  "appx": {
    "applicationId": "FocusRecord",
    "identityName": "12345YourName.FocusRecord",
    "publisher": "CN=YOUR-PUBLISHER-ID-FROM-PARTNER-CENTER",
    "publisherDisplayName": "Your Name"
  }
}
```

*Note: You get `identityName` and `publisher` values from the app identity page in the Microsoft Partner Center after observing a new app name.*

## Step 2: Obtain Certificates

For the Windows Store, Microsoft handles the signing if you submit the package correctly, but locally you usually need a trusted certificate to test `appx` builds, or you can rely on the store's signing process for the final submission.

However, `electron-builder` allows you to build an appx that you submit directly.

## Step 3: Build the Appx

Run the build command:

```bash
npm run dist
```

If configured correctly, this will generate an `.appx` file in your `dist` or `release` folder.

## Step 4: Submit to Partner Center

1.  Log in to **Microsoft Partner Center**.
2.  Create a new application.
3.  Reserve your app name.
4.  Navigate to **App identity** to get the details (`Package/Identity/Name`, `Publisher`, etc.) and update your `package.json` with them.
5.  Go to **Submissions** -> **New submission**.
6.  Upload the `.appx` file generated by `electron-builder`.
7.  Fill out the store listing details (descriptions, screenshots, pricing).
8.  Submit for certification.

## Common Pitfalls

*   **Assets**: You need specific asset sizes for the store (Logos, Store assets). `electron-builder` tries to generate them, but you might need to provide them manually in a `build/appx` folder if verification fails.
*   **Restricted APIs**: Electron apps are "Win32" apps running in a container. Most standard Node/Electron features work, but some system-level integrations might behave differently.

## Alternative: Microsoft Store Publisher

You can also use the `electron-windows-store` CLI tool if `electron-builder` gives you trouble, but `electron-builder` is generally the preferred modern method.
